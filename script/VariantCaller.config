profiles {
  singularity {
    singularity.enabled = true
    singularity.cacheDir = "./bin/"
    process {
      withLabel: check_input {
        container = "lbmc/csv_checkdesign_python:0.0.1"
        cpus = 1
      }
      withLabel: bowtie2 {
        container = "lbmc/bowtie2:2.3.4.1"
        cpus = 4
      }
      withLabel: bowtie {
        cpus = 4
        container = "lbmc/bowtie:1.2.2"
      }
      withLabel: macs2 {
        container = "lbmc/macs2:2.1.2"
        cpus = 4
      }
      withLabel: fastqc {
        cpus = 1
        container = "lbmc/fastqc:0.11.5"
      }
      withLabel: multiQC {
        container = "lbmc/multiqc:1.7"
        cpus = 1
      }
      withLabel: cutadapt {
        container = "lbmc/cutadapt:2.1"
        cpus = 1
      }
      withLabel: picardtools {
        container = "lbmc/picard:2.18.11"
        cpus = 1
      }
      withLabel: bwa {
        container = "lbmc/bwa:0.7.17"
        cpus = 4
      }
    }
  }
  psmn{
    singularity.enabled = true
    singularity.cacheDir = "$baseDir/.singularity_psmn/"
    singularity.runOptions = "--bind /Xnfs,/scratch"
    process{
      withLabel: samtools {
        container = "lbmc/samtools:1.7"
        executor = "sge"
        clusterOptions = "-m e -cwd -V"
        memory = "20GB"
        time = "12h"
        queue = "monointeldeb192,monointeldeb96,monointeldeb128"
      }
      withLabel: multiQC {
        container = "lbmc/multiqc:1.7"
        executor = "sge"
        clusterOptions = "-cwd -V"
        cpus = 1
        memory = "5GB"
        time = "6h"
        queue = "monointeldeb192"
      }
      withLabel: picardtools {
        container = "lbmc/picard:2.18.11"
        executor = "sge"
        clusterOptions = "-cwd -V"
        cpus = 1
        memory = "20GB"
        time = "12h"
        queue = "monointeldeb192,monointeldeb96,monointeldeb128"
      }
      withLabel: bwa {
        container = "lbmc/bwa:0.7.17"
        executor = "sge"
        clusterOptions = "-cwd -V"
        cpus = 32
        memory = "30GB"
        time = "24h"
        queue = "CLG6242deb384A,CLG6242deb384C,CLG5218deb192A,CLG5218deb192B,CLG5218deb192C,CLG5218deb192D"
        penv = "openmp32"
      }
      withLabel: gatk {
        container = "broadinstitute/gatk:4.1.9.0"
        executor = "sge"
        clusterOptions = "-cwd -V"
        cpus = 1
        memory = "20GB"
        time = "12h"
        queue = "monointeldeb192,monointeldeb96,monointeldeb128"
      }
      withLabel: snpsift {
        container = "davelabhub/snpsift:4.3.1t"
        executor = "sge"
        clusterOptions = "-cwd -V"
        cpus = 1
        memory = "20GB"
        time = "12h"
        queue = "monointeldeb192,monointeldeb96,monointeldeb128"
      }
      withLabel: breakdancer {
        container = "szarate/breakdancer:v1.4.3"
        executor = "sge"
        clusterOptions = "-cwd -V"
        cpus = 1
        memory = "20GB"
        time = "12h"
        queue = "monointeldeb192,monointeldeb96,monointeldeb128"
      }
      withLabel: pindel {
        container = "opengenomics/pindel:0.2.5b8"
        executor = "sge"
        clusterOptions = "-cwd -V"
        cpus = 1
        memory = "20GB"
        time = "12h"
        queue = "monointeldeb192,monointeldeb96,monointeldeb128"
      }
      withLabel: snpeff {
        container = "alexeyebi/snpeff:latest"
        executor = "sge"
        clusterOptions = "-cwd -V"
        cpus = 1
        memory = "20GB"
        time = "12h"
        queue = "monointeldeb192,monointeldeb96,monointeldeb128"
      }
    }
  }
}
